<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
<script src="https://code.angularjs.org/1.2.28/angular.js"></script>
<script src="https://code.angularjs.org/1.2.28/angular-cookies.js"></script>
<script src="../js/math.js"></script>
<script src="http://cdn.jsdelivr.net/hammerjs/2.0.4/hammer.js"></script>
<script src="https://code.angularjs.org/1.2.28/angular-animate.js"></script>
<script src="../popupMenu/draggable.js"></script>
<script src="../popupMenu/popup-menu.js"></script>
<link rel="stylesheet" href="http://demopush.megatime.com.tw/cdn/angular-spider/0.1.1-SNAPSHOT/css/gesture-animate.css" />
<script src="http://demopush.megatime.com.tw/cdn/angular-spider/0.1.1-SNAPSHOT/js/angular-spider.js"></script>
<title>Layout Test</title>
<style type="text/css">
.menu-show {
	opacity: 1 !important;
}

.menu-show-add,.menu-show-remove {
	-webkit-transition: all 0.5s;
	-moz-transition: all 0.5s;
	-o-transition: all 0.5s;
	transition: all 0.5s;
}

.menu-show-add {
	opacity: 0 !important;
	-webkit-transform: scale(0.5, 0.5) translate(0px, -55px) rotate(60deg);
	-moz-transform: scale(0.5, 0.5) translate(0px, -55px) rotate(60deg);
	-o-transform: scale(0.5, 0.5) translate(0px, -55px) rotate(60deg);
	transform: scale(0.5, 0.5) translate(0px, -55px) rotate(60deg);
}

.menu-show-add.menu-show-add-active {
	opacity: 1 !important;
	-webkit-transform: scale(1, 1) translate(0px, -55px) rotate(0deg);
	-moz-transform: scale(1, 1) translate(0px, -55px) rotate(0deg);
	-o-transform: scale(1, 1) translate(0px, -55px) rotate(0deg);
	transform: scale(1, 1) translate(0px, -55px) rotate(0deg);
}

.menu-show-remove {
	opacity: 1 !important;
	-webkit-transform: scale(1, 1) translate(0px, -55px) rotate(0deg);
	-moz-transform: scale(1, 1) translate(0px, -55px) rotate(0deg);
	-o-transform: scale(1, 1) translate(0px, -55px) rotate(0deg);
	transform: scale(1, 1) translate(0px, -55px) rotate(0deg);
}

.menu-show-remove.menu-show-remove-active {
	opacity: 0 !important;
	-webkit-transform: scale(0.5, 0.5) translate(0px, -55px) rotate(60deg);
	-moz-transform: scale(0.5, 0.5) translate(0px, -55px) rotate(60deg);
	-o-transform: scale(0.5, 0.5) translate(0px, -55px) rotate(60deg);
	transform: scale(0.5, 0.5) translate(0px, -55px) rotate(60deg);
}
</style>
<script type="text/javascript">
	var app = angular.module('app', [ 'spider', 'ngAnimate', 'sp.draggable', 'sp.popupMenu', 'ngCookies' ]);

	app.config([ 'menuProvider', function(menuProvider) {
	} ]);

	app.controller('menuCtrl', [ '$scope', 'menu', 'eventChannelService', function($scope, menu, eventChannelService) {
		var eventTerminal = eventChannelService.createTerminal($scope);
		var popMenu = menu.createMenu();
		popMenu.addItem('<a href="#">A</a>', function() {
			eventTerminal.broadcast('changeLayout', 'la_A', 'fade');
		});
		popMenu.addItem('<a href="#">B</a>', function() {
			eventTerminal.broadcast('changeLayout', 'la_B', 'fade');
		});
		popMenu.addItem('<a href="#">C</a>', function() {
			eventTerminal.broadcast('changeLayout', 'la_C', 'fade');
		});
		popMenu.addItem('<a href="#">D</a>', function() {
			eventTerminal.broadcast('changeLayout', 'la_D', 'fade');
		});
		popMenu.addItem('<a href="#">E</a>', function() {
			eventTerminal.broadcast('changeLayout', 'la_E', 'fade');
		});
		popMenu.addItem('<a href="#">F</a>', function() {
			eventTerminal.broadcast('changeLayout', 'la_F', 'fade');
		});

		menu.addMenu('menu1', popMenu);
	} ]);

	app.controller('testCtrl', [ '$scope', 'eventChannelService', function($scope, eventChannelService) {
		var eventTerminal = eventChannelService.createTerminal($scope);
		$scope.go1 = function() {
			eventTerminal.broadcast('changeLayout', 'sm_m_1', 'fade');
		};
		$scope.go2 = function() {
			eventTerminal.broadcast('changeLayout', 'sm_m_2', 'fade');
		};
		$scope.goB = function() {
			eventTerminal.broadcast('changeLayout', 'la_B', 'fade');
		};
		$scope.zoomIn1 = function() {
			eventTerminal.broadcast('changeLayout', 'sm_m_1', 'zoom-in');
		};
		$scope.zoomOut2 = function() {
			eventTerminal.broadcast('changeLayout', 'sm_m_2', 'zoom-out');
		};
	} ]);
</script>
</head>
<body ng-app="app" sp-controller="testCtrl">
	<div sp-container="Root" root="true" content-url="[{w:700,l:'sm.html',name:'Layout_sm'},{l:'lg.html',name:'Layout_lg'}]"></div>
	<!-- popup menu -->
	<div draggable sp-event-channel="{A:['*'],B:['*']}">
		<img alt="" src="../popupMenu/cis_circle.png" style="width: 50px;">
		<div popup-menu="menu1" ng-controller="menuCtrl"></div>
	</div>
</body>
</html>